'use strict';

var pattern = function pattern(item) {
	var str = item.primaryImageUrl;
	var newStr = str.substring(0, str.length - 4);
	var ModImg = 'http:' + newStr + '_220x220_1.jpg';


	//	 change prices

	var priceTemplate = function priceTemplate(price, discountPrice) {
		return '\n        <p class="product_price_club_card">\n            <span class="product_price_club_card_text">\u041F\u043E \u043A\u0430\u0440\u0442\u0435<br>\u043A\u043B\u0443\u0431\u0430</span>\n            <span class="goldPrice">' + discountPrice.toFixed(2) + ' </span>\n            <span class="rouble__i black__i">\n                <svg version="1.0" id="rouble__b" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="30px" height="22px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#rouble_black"></use>\n                </svg>\n                </span>\n        </p>\n        <p class="product_price_default">\n            <span class="retailPrice">' + price.toFixed(2) + '</span>\n            <span class="rouble__i black__i">\n                <svg version="1.0" id="rouble__g" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="30px" height="22px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#rouble_gray"></use>\n                </svg>\n                </span>\n        </p>\n    ';
	};

	return '\n    <div id="products_section">\n        <div class="products_page pg_0">\n            <div class="product product_horizontal">\n                    <span class="product_code">\u041A\u043E\u0434: ' + item.code.slice(5) + '</span>\n                <div class="product_status_tooltip_container">\n                    <span class="product_status">\u041D\u0430\u043B\u0438\u0447\u0438\u0435 </span>\n                </div>\n                <div class="product_photo">\n                    <a href="#" class="url--link product__link">\n                        <img src=\'' + ModImg + '\'>\n                    </a>\n                </div>\n                <div class="product_description">\n                    <a href="#" class="product__link"> ' + item.title + ' </a>\n                </div>\n                <div class="product_tags hidden-sm">\n                    <p>\u041C\u043E\u0433\u0443\u0442 \u043F\u043E\u043D\u0430\u0434\u043E\u0431\u0438\u0442\u044C\u0441\u044F:</p>\n                    ' + item.assocProducts + '\n\n                </div>\n                <div class="product_units">\n                    <div class="unit--wrapper">\n                        <div class="unit--select unit--active unit--select_unit_m" data-unit="m">\n                            <p class="ng-binding"> \u0417\u0430 ' + item.unitAlt + '</p>\n                        </div>\n                        <div class="unit--select unit--select_unit_pack" data-unit="pack">\n                            <p class="ng-binding"> \u0417\u0430 ' + item.unit + '</p>\n                        </div>\n                    </div>\n                </div>\n                <div class="product-price product-price_unit_m">\n                    ' + priceTemplate(item.priceRetail, item.priceGold) + '\n                </div>\n                <div class="product-price product-price_unit_pack">\n                    ' + priceTemplate(item.priceRetailAlt, item.priceGoldAlt) + '\n                </div>\n                <div class="product_price_points">\n                    <p class="ng-binding">\u041C\u043E\u0436\u043D\u043E \u043A\u0443\u043F\u0438\u0442\u044C \u0437\u0430  ' + item.priceRetail / item.bonusAmount + ' \u0431\u0430\u043B\u043B\u0430</p>\n                </div>\n                <div class="list--unit-padd"> </div>\n                <div class="list--unit-desc">\n                    <div class="unit--info">\n                        <div class="unit--desc-i"></div>\n                        <div class="unit--desc-t">\n                            <p>\n                                <span class="ng-binding">\u041F\u0440\u043E\u0434\u0430\u0435\u0442\u0441\u044F \u0443\u043F\u0430\u043A\u043E\u0432\u043A\u0430\u043C\u0438:</span>\n                                <span class="unit--infoInn"> ' + item.unitRatio + '  ' + item.unit + ' = ' + item.unitRatioAlt.toFixed(2) + '  ' + item.unitAlt + ' </span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div class="product__wrapper">\n                    <div class="product_count_wrapper">\n                        <div class="stepper">\n                            <input class="product__count stepper-input" type="text" value="1">\n\n                            <span class="stepper-arrow up"></span>\n                            <span class="stepper-arrow down"></span>\n                        </div>\n                    </div>\n                    <span class="btn btn_cart" data-url="/cart/" data-product-id=' + item.productId + '>\n                        <svg class="ic ic_cart">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cart"></use>\n                        </svg>\n                        <span class="ng-binding">\u0412 \u043A\u043E\u0440\u0437\u0438\u043D\u0443</span>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>';
};
